<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Clerk GitHub Pages Test</title>

    <!-- Set your Clerk frontend API -->
    <script>
      window.Clerk = window.Clerk || {};
      window.Clerk.frontendApi = "clerk.olivertriunfo.com";
    </script>

    <!-- Load Clerk from your custom domain -->
    <script
      async
      crossorigin="anonymous"
      data-clerk-publishable-key="pk_live_Y2xlcmsub2xpdmVydHJpdW5mby5jb20k"
      src="https://clerk.olivertriunfo.com/npm/@clerk/clerk-js@5/dist/clerk.browser.js"
    ></script>

    <script>
      window.addEventListener("clerk:ready", async () => {
        await Clerk.load();
        const user = Clerk.user;

        const status = document.getElementById("status");
        const signInDiv = document.getElementById("sign-in");
        const signOutButton = document.getElementById("sign-out");

        if (user) {
          status.innerText = `âœ… Logged in as: ${user.fullName || user.emailAddresses[0].emailAddress}`;
          signOutButton.style.display = "inline-block";
        } else {
          status.innerText = "ðŸ‘‹ Not logged in";
          Clerk.mountSignIn(signInDiv);
        }

        signOutButton.addEventListener("click", () => Clerk.signOut());
      });
    </script>

    <style>
      #sign-out {
        margin-top: 20px;
        padding: 8px 12px;
        background-color: #ef4444;
        color: white;
        border: none;
        border-radius: 4px;
        display: none;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>Clerk GitHub Pages Test</h1>
    <p id="status">Loading...</p>
    <div id="sign-in"></div>
    <button id="sign-out">Sign out</button>
  </body>
</html>
